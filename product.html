<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Product Detail</title>
  <style>
    body { font-family: Arial, sans-serif; margin:20px; }
    .container {
      display: flex;
      gap: 30px;
      align-items: flex-start;
    }
    img {
      max-width: 400px;
      width: 100%;
      height: auto;
      border-radius: 10px;
      object-fit: cover;
      flex-shrink: 0;
    }
    .info { max-width:500px; }
    .price { color:green; font-size:20px; margin:10px 0; }
    select, input, textarea, button {
      margin:10px 0; padding:8px; width:100%;
      border:1px solid #ccc; border-radius:5px;
    }
    .hidden { display:none; }
    .measurement { background:#f9f9f9; padding:15px; border-radius:10px; }
    button { background:black; color:white; cursor:pointer; }
  </style>
</head>
<body>

  <div class="container">
    <img id="product-img" src="" alt="Product">
    <div class="info">
      <h2 id="product-name"></h2>
      <p class="price">â‚¹<span id="product-price"></span></p>
      <p id="product-desc"></p>

      <!-- Size Selector -->
      <label for="size">Select Size:</label>
      <select id="size">
        <option>XS</option>
        <option>S</option>
        <option>M</option>
        <option>L</option>
        <option>XL</option>
      </select>

      <!-- Buy Now Button (added just below size selector) -->
      <button type="button" id="buy-now" style="margin:16px 0;">Buy Now</button>

      <!-- Unit Selector and Measurement Form -->
      <label for="unit" style="margin-top:10px;">Unit:</label>
      <select id="unit" onchange="changeUnit()">
        <option value="in">Inches</option>
        <option value="cm">Centimeters</option>
      </select>

      <!-- Custom Measurement Toggle -->
      <label style="display:block; margin-top:10px;">
        <input type="checkbox" id="custom-toggle" onchange="toggleMeasurement()"> Enter Custom Measurements
      </label>

      <!-- Measurement Form -->
      <div id="measurement-form" class="hidden measurement">
        <input type="number" id="bust" step="0.1" min="0" placeholder="Bust (in)">
        <input type="number" id="waist" step="0.1" min="0" placeholder="Waist (in)">
        <input type="number" id="hip" step="0.1" min="0" placeholder="Hip (in)">
        <input type="number" id="height" step="0.1" min="0" placeholder="Height (in)">
        <input type="number" id="length" step="0.1" min="0" placeholder="Length (in)">
        <input type="number" id="sleeve" step="0.1" min="0" placeholder="Sleeve Length (in)">
        <input type="number" id="shoulder" step="0.1" min="0" placeholder="Shoulder Width (in)">
        <input type="number" id="armhole" step="0.1" min="0" placeholder="Armhole (in)">

        <textarea id="notes" placeholder="Additional notes"></textarea>
        <small>Tip: measure snug, not tight.</small>
        <button type="button" id="save-measurements">Save Measurements</button>
      </div>

      <!-- Fabric & Quality -->
      <h3>Fabric & Quality</h3>
      <p>Premium fabric, stitched with fine quality tailoring. Perfect for parties and weddings.</p>

      <button>Add to Cart</button>
    </div>
  </div>

  <script>
    // Get product info from URL
    const params = new URLSearchParams(window.location.search);
    document.getElementById("product-name").innerText = params.get("name");
    document.getElementById("product-price").innerText = params.get("price");
    document.getElementById("product-desc").innerText = params.get("desc");
    document.getElementById("product-img").src = params.get("img");

    // Show measurement form if checkbox checked
    function toggleMeasurement() {
      const checked = document.getElementById("custom-toggle").checked;
      const form = document.getElementById("measurement-form");
      form.classList.toggle("hidden", !checked);
    }

    // Change unit and update placeholders
    function changeUnit() {
      const unit = document.getElementById("unit").value;
      const isInches = unit === "in";
      document.getElementById("bust").placeholder = `Bust (${isInches ? 'in' : 'cm'})`;
      document.getElementById("waist").placeholder = `Waist (${isInches ? 'in' : 'cm'})`;
      document.getElementById("hip").placeholder = `Hip (${isInches ? 'in' : 'cm'})`;
      document.getElementById("height").placeholder = `Height (${isInches ? 'in' : 'cm'})`;
      document.getElementById("length").placeholder = `Length (${isInches ? 'in' : 'cm'})`;
      document.getElementById("sleeve").placeholder = `Sleeve Length (${isInches ? 'in' : 'cm'})`;
      document.getElementById("shoulder").placeholder = `Shoulder Width (${isInches ? 'in' : 'cm'})`;
      document.getElementById("armhole").placeholder = `Armhole (${isInches ? 'in' : 'cm'})`;
    }

    // Set initial placeholders
    changeUnit();
  </script>

</body>
</html>
